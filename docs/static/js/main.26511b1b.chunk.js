(this["webpackJsonpreact-attractions"]=this["webpackJsonpreact-attractions"]||[]).push([[0],{127:function(t,e,n){},129:function(t,e,n){"use strict";n.r(e);var a,c,r=n(0),s=n(9),i=n.n(s),o=(n(80),n(5)),l=n(22),u=n(60),j=n.n(u),d=n(37),p=n(8),b=Object(l.c)({name:"todo",initialState:{todolist:[{id:1,name:"first todo on redux"},{id:2,name:"second todo in list"}]},reducers:{addTodo:function(t,e){t.todolist.push(e.payload)}}}),x=(b.actions.addTodo,b.reducer),h=Object(l.c)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),f=h.actions,O=(f.increment,f.decrement,f.incrementByAmount,h.reducer),m=n(15),g=n.n(m),v=n(21),y=Object(l.b)("users/fetchByIdStatus",function(){var t=Object(v.a)(g.a.mark((function t(e,n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.kcg.gov.tw/api/service/get/41d81188-3b52-4433-8f9c-8bf263a22362").then((function(t){return t.json()})).then((function(t){return console.log("result",t),t}));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),w=Object(l.c)({name:"users",initialState:{city:[]},reducers:{},extraReducers:function(t){t.addCase(y.fulfilled,(function(t,e){t.city=e.payload.slice(0,30)}))}}).reducer,N=n(28),k={key:"root",storage:j.a},T=Object(p.c)({todo:x,counter:O,users:w}),S=Object(d.a)(k,T),C=Object(l.a)({reducer:S,middleware:[N.a],whitelist:["city"]}),P=n(61),A=n(73),D=n(6),E=n(7),B=n(1),I=E.a.header(a||(a=Object(D.a)(["\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 50px;\n  border: 1px solid #ccc;\n  h1 {\n    color: var(--green);\n    letter-spacing: 5px;\n    font-size: 20px;\n    cursor: pointer;\n  }\n"]))),L=E.a.ul(c||(c=Object(D.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  li {\n    margin: 0 10px;\n    cursor: pointer;\n  }\n"]))),M=[{name:"\u63a2\u7d22\u666f\u9ede",path:"/attraction"},{name:"\u7bc0\u6176\u6d3b\u52d5",path:"/festival"},{name:"\u54c1\u5690\u7f8e\u98df",path:"/food"}];var V,z=function(){var t=Object(o.f)(),e=function(e){t.push(e)};return Object(B.jsxs)(I,{children:[Object(B.jsx)("h1",{onClick:function(){e("/")},children:"\u53f0\u7063\u8d70\u8d70 \u2022 Taiwan"}),Object(B.jsx)(L,{children:M.map((function(t){return Object(B.jsx)("li",{onClick:function(){e(t.path)},children:t.name},t.name)}))})]})},F=E.a.footer(V||(V=Object(D.a)(["\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  background-color: var(--green);\n  color: #fff;\n"])));var R,$=function(){return Object(B.jsx)(F,{children:"The F2E 3rd \u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd"})},_=E.a.div(R||(R=Object(D.a)(["\n  /* overflow-y: scroll; */\n"])));var J=function(t){return Object(B.jsxs)(_,{children:[Object(B.jsx)(z,{}),Object(B.jsx)("div",{className:"wrapper",children:t.children}),Object(B.jsx)($,{})]})},H=n(4),U=n(19),X=(n(89),n(65));var G,K=function(){return Object(B.jsx)(X.Carousel,Object(H.a)(Object(H.a)({},{dots:!0,infinite:!0,autoPlay:!0,speed:500,showStatus:!1}),{},{children:["\u5357\u6295 \uff5c \u6e05\u5883\u8fb2\u5834","\u82b1\u84ee \uff5c \u82b1\u6771\u7e31\u8c37","\u9ad8\u96c4 \uff5c \u4e09\u9cf3\u5bae","\u53f0\u5317 \uff5c 101","\u65b0\u5317 \uff5c \u91ce\u67f3"].map((function(t,e){return Object(B.jsx)("div",{className:"carousel-item",style:{backgroundImage:"url(".concat("https://changchiao.github.io/react_attractions","/image/banner/").concat(e,".jpg)")},children:Object(B.jsx)("p",{className:"carousel-title",children:t})},t)}))}))},Q=n(12),Y=n(13),q=n(72),Z=E.a.div(G||(G=Object(D.a)(["\n  width: 300px;\n  margin-right: 5px;\n"]))),W=function(t){return Object(H.a)(Object(H.a)({},t),{},{borderRadius:8,colors:Object(H.a)({},t.colors)})},tt={option:function(t,e){return Object(H.a)(Object(H.a)({},t),{},{borderBottom:"1px dotted #ccc",color:e.isSelected?"#333":"#999",padding:10})},control:function(t){return Object(H.a)(Object(H.a)({},t),{},{border:"1px solid #ddd",color:"#ccc"})},singleValue:function(t,e){return Object(H.a)(Object(H.a)({},t),{},{borderRadius:"4px",opacity:e.isDisabled?.5:1})}};var et,nt=function(t){return Object(B.jsx)(Z,{children:Object(B.jsx)(q.a,{defaultValue:t.defaultValue,theme:W,styles:tt,onChange:t.onChange,options:t.options})})},at=E.a.div(et||(et=Object(D.a)(["\n  text-align: left;\n  padding: 5% 10%;\n  display: flex;\n  justify-content: center;\n  .area {\n    width: 40%;\n  }\n  .main-title {\n    font-size: 36px;\n    /* letter-spacing: 5px; */\n    line-height: 50px;\n  }\n  .sub-title {\n    font-size: 16px;\n    padding-top: 20px;\n    color: #646464;\n    svg {\n      color: var(--green_light);\n      margin: 0 5px;\n    }\n    span {\n      color: #646464;\n    }\n  }\n  .search-input {\n    width: 300px;\n    margin-top: 10px;\n  }\n  .search-btn {\n    width: 300px;\n    height: 40px;\n    margin-top: 10px;\n    letter-spacing: 5px;\n    display: block;\n    cursor: pointer;\n    svg {\n      margin-right: 5px;\n      cursor: pointer;\n    }\n  }\n"])));var ct,rt=function(){var t=Object(r.useState)(""),e=Object(U.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(null),s=Object(U.a)(c,2),i=s[0],o=s[1];return Object(B.jsxs)(at,{children:[Object(B.jsxs)("div",{className:"area",children:[Object(B.jsx)("p",{className:"main-title",children:"\u63a2\u7d22\u53f0\u7063\u4e4b\u7f8e"}),Object(B.jsx)("p",{className:"main-title",children:"\u8b93\u6211\u5011\u66f4\u89aa\u8fd1\u9019\u7247\u571f\u5730"}),Object(B.jsxs)("p",{className:"sub-title",children:[Object(B.jsx)(Q.a,{className:"mark",icon:Y.b}),"\u53f0\u7063\u65c5\u904a\u666f\u9ede\u5c0e\u89bd ",Object(B.jsx)("span",{children:"Taiwan Travel Guide"})]})]}),Object(B.jsxs)("div",{className:"area",children:[Object(B.jsx)(nt,{defaultValue:i,onChange:o,options:[{value:"chocolate",label:"Chocolate"},{value:"strawberry",label:"Strawberry"},{value:"vanilla",label:"Vanilla"}]}),Object(B.jsx)("input",{className:"search-input",placeholder:"\u4f60\u60f3\u53bb\u54ea\u88e1\uff1f\u8acb\u8f38\u5165\u95dc\u9375\u5b57",value:n,onChange:function(t){a(t.target.value)}}),Object(B.jsxs)("button",{className:"search-btn",children:[Object(B.jsx)(Q.a,{className:"mark",icon:Y.c}),"\u641c\u5c0b"]})]})]})},st=n(29),it=n(66),ot=(Object(it.a)({forceRefresh:!0}),function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,c=e.getDate();return"".concat(n,"/").concat(a,"/").concat(c)}),lt=E.a.div(ct||(ct=Object(D.a)(["\n  width: 49%;\n  cursor: pointer;\n  display: flex;\n  overflow: hidden;\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  margin-top: 10px;\n  background-color: var(--gray);\n  img {\n    width: 150px;\n    object-fit: cover;\n  }\n  .text {\n    flex: 1;\n    padding: 10px 14px;\n    position: relative;\n  }\n  .bottom-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: absolute;\n    width: 90%;\n    bottom: 10px;\n  }\n"])));var ut=function(t){var e=t.data,n=Object(o.f)();return Object(B.jsxs)(lt,{onClick:function(){n.push({pathname:"/intro",state:e})},children:[Object(B.jsx)("img",{src:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.PictureUrl1;return e||"https://changchiao.github.io/react_attractions/image/default/act.jpg"}(e.Picture)}),Object(B.jsxs)("div",{className:"text",children:[Object(B.jsx)("p",{className:"date",children:"".concat(ot(e.StartTime),"-").concat(ot(e.EndTime))}),Object(B.jsx)("p",{className:"item-title",children:e.Name}),Object(B.jsxs)("p",{className:"bottom-info",children:[Object(B.jsxs)("span",{className:"location",children:[Object(B.jsx)(Q.a,{className:"mark",icon:Y.b}),"\u5357\u6295\u7e23 ",e.Address]}),Object(B.jsxs)("span",{className:"intro",children:[e.type,"\u8a73\u7d30\u4ecb\u7d39",Object(B.jsx)(Q.a,{className:"mark",icon:Y.a})]})]})]})]})},jt=n(74),dt=n(67),pt=n.n(dt).a.create({headers:function(){var t=(new Date).toGMTString(),e=new jt.a("SHA-1","TEXT");e.setHMACKey("daVxLDO01nPgTTwhQKVBmY-pjeQ","TEXT"),e.update("x-date: "+t);var n=e.getHMAC("B64");return{Authorization:'hmac username="'.concat("b65665fcca144956a79d25bb3edc7b34",'", algorithm="hmac-sha1", headers="x-date", signature="').concat(n,'"'),"X-Date":t,"Content-Type":"application/x-www-form-urlencoded"}}()});pt.interceptors.request.use((function(t){return t}),(function(t){return t})),pt.interceptors.response.use((function(t){return t.data}),(function(t){t.response.status;return Promise.reject(t)}));var bt,xt=pt,ht=function(t){return xt.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant",{params:Object(H.a)({},t)})},ft=function(t){return xt.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",{params:Object(H.a)({},t)})},Ot=function(t){return xt.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity",{params:Object(H.a)({},t)})},mt=E.a.div(bt||(bt=Object(D.a)(["\n  margin-top: 30px;\n  .title-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    svg {\n      margin-left: 5px;\n    }\n  }\n  .list {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-top: 10px;\n  }\n"])));var gt,vt=function(){var t=Object(r.useState)([]),e=Object(U.a)(t,2),n=e[0],a=e[1],c=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={$top:4,$orderBy:"EndTime"},t.next=3,Ot(e);case 3:n=t.sent,a(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){c()}),[]),Object(B.jsxs)(mt,{children:[Object(B.jsxs)("div",{className:"title-bar",children:[Object(B.jsx)("h3",{class:"title",children:"\u8fd1\u671f\u6d3b\u52d5"}),Object(B.jsxs)("span",{class:"more",children:["\u67e5\u770b\u66f4\u591a\u6d3b\u52d5",Object(B.jsx)(Q.a,{className:"mark",icon:Y.a})]})]}),Object(B.jsx)("div",{className:"list",children:n.map((function(t){return Object(B.jsx)(ut,{data:Object(H.a)(Object(H.a)({},t),{},{type:"activity"})},t.ID)}))})]})},yt=E.a.div(gt||(gt=Object(D.a)(["\n  width: 24%;\n  cursor: pointer;\n  .cover {\n    border-radius: 20px;\n    height: 200px;\n    object-fit: cover;\n    margin-bottom: 10px;\n    display: block;\n    width: 100%;\n  }\n  .location {\n    margin-bottom: 10px;\n    text-align: left;\n    padding: 10px 0;\n  }\n"])));var wt,Nt=function(t){var e=t.data,n=Object(o.f)();return Object(B.jsxs)(yt,{onClick:function(){n.push({pathname:"/intro",state:e})},children:[Object(B.jsx)("img",{className:"cover",src:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.PictureUrl1;return e||"https://changchiao.github.io/react_attractions/image/default/act.jpg"}(e.Picture)}),Object(B.jsx)("p",{className:"item-title",children:e.Name}),Object(B.jsxs)("p",{className:"location",children:[Object(B.jsx)(Q.a,{className:"mark",icon:Y.b}),e.Address&&e.Address.substring(0,3)]})]})},kt=E.a.div(wt||(wt=Object(D.a)(["\n  margin-top: 50px;\n  .title-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    svg {\n      margin-left: 5px;\n    }\n  }\n  .list {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-top: 16px;\n  }\n"])));var Tt=function(t){var e=t.data;return Object(B.jsxs)(kt,{children:[Object(B.jsxs)("div",{className:"title-bar",children:[Object(B.jsx)("h3",{className:"title",children:e.title}),Object(B.jsxs)("span",{className:"more",children:["\u67e5\u770b\u66f4\u591a\u6d3b\u52d5",Object(B.jsx)(Q.a,{className:"mark",icon:Y.a})]})]}),Object(B.jsx)("div",{className:"list",children:e.list&&e.list.map((function(t){return Object(B.jsx)(Nt,{data:Object(H.a)(Object(H.a)({},t),{},{type:e.type})},t.ID)}))})]})};var St=function(){var t=Object(r.useState)({title:"\u71b1\u9580\u6253\u5361\u666f\u9ede",type:"spot",list:[]}),e=Object(U.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)({title:"\u4e00\u518d\u56de\u8a2a\u7f8e\u98df",type:"restaurant",list:[]}),s=Object(U.a)(c,2),i=s[0],o=s[1],l=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={$top:4},t.next=3,ft(e);case 3:n=t.sent,a((function(t){return Object(H.a)(Object(H.a)({},t),{},{list:n})}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(v.a)(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={$top:4},t.next=3,ht(e);case 3:n=t.sent,o((function(t){return Object(H.a)(Object(H.a)({},t),{},{list:n})}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){l(),u()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(rt,{}),Object(B.jsx)(K,{}),Object(B.jsx)(vt,{}),Object(B.jsx)(Tt,{data:n}),Object(B.jsx)(Tt,{data:i})]})},Ct=n(68),Pt=n.n(Ct),At=n(69),Dt=n.n(At),Et=n(70),Bt=n.n(Et),It=n(75),Lt=function(){return Object(B.jsx)(Q.a,{className:"mark",icon:Y.b})};var Mt,Vt=function(t){var e=t.Position,n=void 0===e?{}:e;return console.log("Position",n),Object(B.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(B.jsx)(It.a,{defaultCenter:{lat:n.PositionLat||"22.63",lng:n.PositionLon||"121.5073"},defaultZoom:12,children:Object(B.jsx)(Lt,{lat:n.PositionLat,lng:n.PositionLon})})})},zt=E.a.div(Mt||(Mt=Object(D.a)(["\n  margin-top: 30px;\n  .main-cover {\n    width: 100%;\n    height: 400px;\n    object-fit: cover;\n    border-radius: 20px;\n  }\n  .intro-title {\n    font-size: 32px;\n    padding: 20px 0 16px;\n  }\n  .tag {\n    color: var(--brown);\n    font-size: 14px;\n    padding: 5px;\n    border-radius: 20px;\n    margin-right: 5px;\n    border: 1px solid var(--brown);\n  }\n  .content {\n    padding: 30px 0 20px;\n    h3 {\n      padding-bottom: 14px;\n    }\n    p {\n      line-height: 24px;\n    }\n  }\n  .intro {\n    display: flex;\n    justify-content: space-between;\n  }\n  .map {\n    width: 48%;\n  }\n  .detail {\n    width: 48%;\n    background: #f9f9f9;\n    border-radius: 20px;\n    padding: 20px 10px;\n    p {\n      padding: 8px 0;\n      display: flex;\n      line-height: 20px;\n      .focus {\n        margin-right: 5px;\n        word-break: keep-all;\n      }\n    }\n  }\n"])));var Ft=function(){var t=Object(o.g)().state,e=Object(r.useState)({}),n=Object(U.a)(e,2),a=n[0],c=n[1],s=Object(r.useState)({}),i=Object(U.a)(s,2),l=i[0],u=i[1],j=function(){var e=Object(v.a)(g.a.mark((function e(){var n,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={$top:4},c=[],r="",console.log("data.type",a.type),console.log("state111",t),console.log("data111",a),setTimeout((function(){console.log("data.type",a.type),console.log("state",t)}),3e3),e.t0=a.type,e.next="activity"===e.t0?10:"spot"===e.t0?15:20;break;case 10:return r="\u6d3b\u52d5",e.next=13,Ot(n);case 13:return c=e.sent,e.abrupt("break",25);case 15:return r="\u666f\u9ede",e.next=18,ft(n);case 18:return c=e.sent,e.abrupt("break",25);case 20:return r="\u9910\u5ef3",e.next=23,ht(n);case 23:return c=e.sent,e.abrupt("break",25);case 25:u({title:"\u9084\u6709\u9019\u4e9b\u4e0d\u80fd\u932f\u904e\u7684"+r,list:c});case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(t)localStorage.setItem("intro",JSON.stringify(t)),c(t);else{var e=localStorage.getItem("intro");c(JSON.parse(e))}}()}),[]),Object(r.useEffect)((function(){j()}),[a]),Object(B.jsxs)(zt,{children:[Object(B.jsx)("img",{className:"main-cover",src:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.PictureUrl1;return e||"https://changchiao.github.io/react_attractions/image/default/act.jpg"}(a.Picture)}),Object(B.jsx)("h2",{className:"intro-title",children:a.Name}),Object(B.jsxs)("div",{className:"tag-group",children:[Object(B.jsx)("span",{className:"tag",children:"#\u81ea\u7136\u98a8\u666f\u985e"}),Object(B.jsx)("span",{className:"tag",children:"#\u71b1\u9580\u666f\u9ede"})]}),Object(B.jsxs)("div",{className:"content",children:[Object(B.jsx)("h3",{className:"focus",children:"\u666f\u9ede\u4ecb\u7d39:"}),Object(B.jsx)("p",{children:a.DescriptionDetail})]}),Object(B.jsxs)("div",{className:"intro",children:[Object(B.jsxs)("div",{className:"detail",children:[Object(B.jsxs)("p",{children:[Object(B.jsx)("h3",{className:"focus",children:"\u958b\u653e\u6642\u9593:"}),a.OpenTime]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("h3",{className:"focus",children:"\u670d\u52d9\u96fb\u8a71:"}),a.Phone]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("h3",{className:"focus",children:"\u666f\u9ede\u5730\u5740:"}),a.Address]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("h3",{className:"focus",children:"\u7968\u50f9\u8cc7\u8a0a:"}),a.TicketInfo]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("h3",{className:"focus",children:"\u6ce8\u610f\u4e8b\u9805:"}),a.Remarks]})]}),Object(B.jsx)("div",{className:"map",children:Object(B.jsx)(Vt,{Position:a.Position})})]}),Object(B.jsx)(Tt,{data:l})]})},Rt=Object(d.b)(C);var $t=function(){return Object(B.jsx)(A.a,{store:C,children:Object(B.jsx)(P.a,{loading:null,persistor:Rt,children:Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)(J,{children:[Object(B.jsx)(o.a,{path:"/",exact:!0,component:St}),Object(B.jsx)(o.a,{path:"/attraction",component:Pt.a}),Object(B.jsx)(o.a,{path:"/festival",component:Dt.a}),Object(B.jsx)(o.a,{path:"/food",component:Bt.a}),Object(B.jsx)(o.a,{path:"/intro",component:Ft})]}),Object(B.jsx)(st.a,{})]})})})},_t=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))},Jt=n(26);n(127),n(128);i.a.render(Object(B.jsx)(Jt.a,{children:Object(B.jsx)(o.c,{children:Object(B.jsx)($t,{})})}),document.getElementById("root")),_t()},68:function(t,e){},69:function(t,e){},70:function(t,e){},80:function(t,e,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.26511b1b.chunk.js.map