{"version":3,"sources":["store/slice/searchDataSlice.js","store/slice/introSlice.js","store/index.js","utils/common.js","utils/http.js","global/constant.js","utils/api.js","components/Header.jsx","components/Footer.jsx","components/DefaultTemp.jsx","components/ScrollToTop.js","page/Index/components/Slider.jsx","components/DropDown.jsx","page/Index/components/Search.jsx","components/ListItem.jsx","page/Index/components/Activity.jsx","components/ListCard.jsx","components/Recommend.jsx","page/Index/index.js","page/Intro/components/MapIframe.jsx","components/InfoCardAct.jsx","components/InfoCardRest.jsx","components/InfoCardSpot.jsx","components/Crumb.jsx","page/Intro/index.js","components/CitySelect.jsx","components/Category.jsx","components/Loading.jsx","page/Search/index.js","App.js","assets/font/NotoSans-Bold.ttf","assets/font/NotoSans-BoldItalic.ttf","assets/font/NotoSans-Italic.ttf","assets/font/NotoSans-Regular.ttf","reportWebVitals.js","index.js"],"names":["searchSlice","createSlice","name","initialState","searchData","reducers","setSearchData","state","action","payload","actions","introSlice","introData","setIntroData","persistConfig","key","storage","combineReducers","search","searchReducer","intro","introReducer","persistedReducer","persistReducer","configureStore","reducer","middleware","thunk","whitelist","showToast","msg","type","toast","error","success","transDate","string","date","Date","year","getFullYear","month","getMonth","day","getDate","service","axios","create","axiosRetry","retries","retryCondition","e","response","status","retryDelay","interceptors","request","use","config","params","data","headers","token","localStorage","getItem","authorization","getAuthorizationHeader","Object","keys","map","vo","a","removeItem","getToken","res","access_token","setItem","Promise","reject","defaultCover","process","TYPE_LIST","value","label","MENU_LIST","path","CITY_LIST","getCity","str","city","console","log","cityPath","getRestaurant","sendData","api","get","API_URL","getSpot","getActivity","post","URLSearchParams","grant_type","client_id","client_secret","titleStyle","css","HeaderComp","styled","div","MenuComp","ul","MobileComp","header","MobileMenu","HamburgerComp","props","active","Header","useState","setActive","history","useHistory","dispatch","useDispatch","handleClick","push","goHome","useEffect","document","body","style","className","onClick","src","prevState","FooterComponent","footer","Footer","DefaultComponent","DefaultTemp","children","withRouter","unlisten","listen","window","scrollTo","Slider","dots","infinite","autoPlay","speed","showStatus","index","backgroundImage","SelectComponent","theme","borderRadius","colors","customStyles","option","provided","borderBottom","color","isSelected","backgroundColor","padding","control","border","singleValue","opacity","isDisabled","DropDown","defaultValue","styles","onChange","options","TitleComp","Search","keyword","setKeyword","selectedOption","setSelectedOption","icon","faMapMarkerAlt","placeholder","target","dataObj","faSearch","ListComp","ListItem","pathname","Picture","PictureUrl1","setImage","onError","currentTarget","onerror","StartTime","EndTime","ActivityName","RestaurantName","Address","faChevronRight","ActComp","Activity","list","setList","getAct","$top","$orderBy","$filter","result","ActivityID","Card","ListCard","ScenicSpotName","City","RecommendComp","Recommend","title","ScenicSpotID","RestaurantID","Index","spotList","setSpotList","restList","setRestList","getSpotApi","Array","isArray","getRestaurantApi","MapIframe","Name","width","height","loading","InfoCardAct","Organizer","InfoCardRest","OpenTime","href","Phone","WebsiteUrl","rel","InfoCardSpot","TicketInfo","Remarks","CrumbComp","Crumb","goPage","goPath","forEach","element","IntroComp","recommend","setRecommend","tag","setTag","setTitle","useSelector","getRecommend","$skip","x","Math","floor","random","InfoCard","getTitle","arr","entries","includes","length","getTag","find","DescriptionDetail","Description","CitySelect","setCity","CategoryComp","categoryList","activity","cover","spot","restaurant","Category","setCategory","category","LoadComp","Loading","Portal","usePortal","onOpen","portal","current","cssText","SearchPageComp","SearchResultComp","endFlag","skip","setResult","_setCity","_setKeyword","_setCategory","startDate","_setStartDate","showCategory","_setShowCategory","pennding","setPennding","refKeyword","useRef","refStartDate","refCity","refCatacory","refShowCategory","setShowCategory","getCrumb","resetSearch","time","queryStr","word","getQueryName","join","getData","nameStr","monthStr","yearStr","categoryStr","filter","scrollEvent","offsetHeight","innerHeight","pageYOffset","addEventListener","onbeforeunload","removeEventListener","selected","dateFormat","showMonthYearPicker","faFileAlt","persistor","persistStore","store","App","exact","component","Intro","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","checkToken","getTime","Number","expires_in","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6ee31c0b.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  searchData: {},\n};\n\nexport const searchSlice = createSlice({\n  name: \"search\",\n  initialState,\n  reducers: {\n    setSearchData: (state, action) => {\n      // console.log(\"change\", action.payload);\n      state.searchData = action.payload;\n    },\n  },\n});\n\nexport const { setSearchData } = searchSlice.actions;\nexport default searchSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  introData: {},\n};\n\nexport const introSlice = createSlice({\n  name: \"intro\",\n  initialState,\n  reducers: {\n    setIntroData: (state, action) => {\n      state.introData = action.payload;\n    },\n  },\n});\n\nexport const { setIntroData } = introSlice.actions;\nexport default introSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport { combineReducers } from \"redux\";\r\nimport searchReducer from \"./slice/searchDataSlice\";\r\nimport introReducer from \"./slice/introSlice\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n};\r\n\r\nconst reducers = combineReducers({\r\n  search: searchReducer,\r\n  intro: introReducer,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport default configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: [thunk],\r\n  whitelist: [\"cityList\", \"searchData\", \"introData\"],\r\n});\r\n","import store from \"../store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\n// const history = createBrowserHistory({ forceRefresh: true });\r\n\r\nexport const showToast = (msg, type = \"success\") => {\r\n  if (msg) {\r\n    type === \"error\" && toast.error(msg);\r\n    type === \"success\" && toast.success(msg);\r\n  }\r\n};\r\n\r\nexport const transDate = (string) => {\r\n  let date = new Date(string);\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth() + 1;\r\n  let day = date.getDate();\r\n  return `${year}/${month}/${day}`;\r\n};\r\n","import axios from \"axios\";\r\nimport axiosRetry from \"axios-retry\";\r\nimport { showToast } from \"../utils/common\";\r\nimport { getToken } from \"../utils/api\";\r\nconst service = axios.create({});\r\n\r\naxiosRetry(service, {\r\n  retries: 3,\r\n  retryCondition: (e) => {\r\n    return e.response.status >= 400;\r\n  },\r\n  retryDelay: () => {\r\n    return 500;\r\n  },\r\n});\r\n\r\nconst getAuthorizationHeader = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return {\r\n    authorization: `Bearer ${token}`,\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n  };\r\n};\r\n\r\nservice.interceptors.request.use(\r\n  (config) => {\r\n    let params = config.params ?? config.data;\r\n    config.headers = getAuthorizationHeader();\r\n    Object.keys(params)?.map((vo) => {\r\n      if (!params[vo]) delete params[vo];\r\n    });\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return error;\r\n  }\r\n);\r\n\r\nservice.interceptors.response.use(\r\n  (response) => {\r\n    if (response.status) {\r\n      return response.data;\r\n    }\r\n    return response;\r\n  },\r\n  async (error) => {\r\n    const status = error?.response?.status;\r\n    showToast(`error--${status}`, \"error\");\r\n    if (status === 403 || status === 429 || status === 401) {\r\n      localStorage.removeItem(\"token\");\r\n      const res = await getToken();\r\n      if (res.access_token) {\r\n        localStorage.setItem(\"token\", res.access_token);\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default service;\r\n","export const API_URL = \"https://tdx.transportdata.tw/api/basic/v2/Tourism\";\r\nexport const API_SPOT = API_URL + \"/ScenicSpot\";\r\nexport const API_RESTAURANT = API_URL + \"/Restaurant\";\r\nexport const API_ACTIVITY = API_URL + \"/Activity\";\r\nexport const API_TDX = \"https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token\";\r\nexport const defaultCover = process.env.PUBLIC_URL + `/image/default/act.jpg`;\r\nexport const TYPE_LIST = [\r\n  { value: \"activity\", label: \"節慶活動\" },\r\n  { value: \"spot\", label: \"探索景點\" },\r\n  { value: \"restaurant\", label: \"品嚐美食\" },\r\n];\r\n\r\nexport const MENU_LIST = [\r\n  { name: \"探索景點\", path: \"spot\" },\r\n  { name: \"節慶活動\", path: \"activity\" },\r\n  { name: \"品嚐美食\", path: \"restaurant\" },\r\n];\r\n\r\nexport const CITY_LIST = [\r\n  { label: \"臺北市\", value: \"Taipei\" },\r\n  { label: \"新北市\", value: \"NewTaipei\" },\r\n  { label: \"桃園市\", value: \"Taoyuan\" },\r\n  { label: \"臺中市\", value: \"Taichung\" },\r\n  { label: \"臺南市\", value: \"Tainan\" },\r\n  { label: \"高雄市\", value: \"Kaohsiung\" },\r\n  { label: \"基隆市\", value: \"Keelung\" },\r\n  { label: \"新竹市\", value: \"Hsinchu\" },\r\n  { label: \"新竹縣\", value: \"HsinchuCounty\" },\r\n  { label: \"苗栗縣\", value: \"MiaoliCounty\" },\r\n  { label: \"彰化縣\", value: \"ChanghuaCounty\" },\r\n  { label: \"南投縣\", value: \"NantouCounty\" },\r\n  { label: \"雲林縣\", value: \"YunlinCounty\" },\r\n  { label: \"嘉義縣\", value: \"ChiayiCounty\" },\r\n  { label: \"嘉義市\", value: \"Chiayi\" },\r\n  { label: \"屏東縣\", value: \"PingtungCounty\" },\r\n  { label: \"宜蘭縣\", value: \"YilanCounty\" },\r\n  { label: \"花蓮縣\", value: \"HualienCounty\" },\r\n  { label: \"臺東縣\", value: \"TaitungCounty\" },\r\n  { label: \"金門縣\", value: \"KinmenCounty\" },\r\n  { label: \"澎湖縣\", value: \"PenghuCounty\" },\r\n  { label: \"連江縣\", value: \"LienchiangCounty\" },\r\n];\r\n","import api from \"../utils/http\";\r\nimport { API_SPOT, API_RESTAURANT, API_ACTIVITY, API_TDX } from \"../global/constant\";\r\nimport jsSHA from \"jssha\";\r\n\r\n// const getAuthorizationHeader = () => {\r\n//   let AppID = process.env.REACT_APP_ID;\r\n//   let AppKey = process.env.REACT_APP_KEY;\r\n\r\n//   const GMTString = new Date().toGMTString();\r\n//   const ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\r\n//   ShaObj.setHMACKey(AppKey, \"TEXT\");\r\n//   ShaObj.update(\"x-date: \" + GMTString);\r\n//   let HMAC = ShaObj.getHMAC(\"B64\");\r\n//   let Authorization = `hmac username=\"${AppID}\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"`;\r\n//   return {\r\n//     Authorization: Authorization,\r\n//     \"X-Date\": GMTString,\r\n//     \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n//   };\r\n// };\r\n\r\nconst getAuthorizationHeader = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return {\r\n    authorization: `Bearer ${token}`,\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n  };\r\n};\r\n\r\nconst converStr = (str) => {\r\n  console.log(\"str\", str);\r\n  if (str === \"\") return str;\r\n  return `/${str}`;\r\n};\r\n\r\nconst getCity = (data) => {\r\n  const { city = \"\" } = data;\r\n  delete data.city;\r\n  console.log(\"city\", city);\r\n  return { cityPath: converStr(city), data };\r\n};\r\n\r\nexport const getRestaurant = (sendData) => {\r\n  const { cityPath, data } = getCity(sendData);\r\n  let config = {\r\n    params: {\r\n      ...data,\r\n    },\r\n  };\r\n  return api.get(API_RESTAURANT + `${cityPath}`, config);\r\n};\r\n\r\nexport const getSpot = (sendData) => {\r\n  const { cityPath, data } = getCity(sendData);\r\n  let config = {\r\n    params: {\r\n      ...data,\r\n    },\r\n  };\r\n  return api.get(API_SPOT + `${cityPath}`, config);\r\n};\r\n\r\nexport const getActivity = (sendData) => {\r\n  const { cityPath, data } = getCity(sendData);\r\n  let config = {\r\n    params: {\r\n      ...data,\r\n    },\r\n  };\r\n  return api.get(API_ACTIVITY + `${cityPath}`, config);\r\n};\r\n\r\nexport const getToken = () => {\r\n  const data = {\r\n    grant_type: \"client_credentials\",\r\n    client_id: process.env.REACT_APP_ID,\r\n    client_secret: process.env.REACT_APP_KEY,\r\n  };\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  };\r\n  return api.post(API_TDX, new URLSearchParams(data), config);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { MENU_LIST } from \"@/global/constant\";\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\n\nconst titleStyle = css`\n  color: var(--green);\n  letter-spacing: 5px;\n  font-size: 20px;\n  cursor: pointer;\n`;\n\nconst HeaderComp = styled.div`\n  width: 100%;\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 50px;\n  border-bottom: 1px solid #ccc;\n  @media (max-width: 980px) {\n    display: none;\n  }\n  h1 {\n    ${titleStyle}\n  }\n  .logo {\n    cursor: pointer;\n  }\n`;\n\nconst MenuComp = styled.ul`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 980px) {\n    display: none;\n  }\n  li {\n    margin: 0 10px;\n    cursor: pointer;\n    &:hover {\n      color: var(--green);\n    }\n  }\n`;\n\nconst MobileComp = styled.header`\n  width: 100%;\n  height: 50px;\n  text-align: center;\n  position: relative;\n  line-height: 50px;\n  display: none;\n  h1 {\n    ${titleStyle}\n  }\n  .logo {\n    cursor: pointer;\n    padding-top: 10px;\n  }\n  @media (max-width: 980px) {\n    display: block;\n  }\n`;\n\nconst MobileMenu = styled.ul`\n  width: 100%;\n  height: calc(100vh - 50px);\n  position: fixed;\n  top: 50px;\n  z-index: 100;\n  background: var(--green);\n  li {\n    color: #fff;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    border-bottom: 1px solid var(--line);\n  }\n`;\n\nconst HamburgerComp = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  position: absolute;\n  right: 10px;\n  top: 5px;\n  background: var(--green);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  &:hover {\n    cursor: pointer;\n  }\n  ${(props) =>\n    props.active &&\n    css`\n      .line {\n        &:nth-child(1) {\n          transform: translateY(8px) rotate(45deg);\n        }\n        &:nth-child(2) {\n          opacity: 0;\n        }\n        &:nth-child(3) {\n          transform: translateY(-10px) rotate(-45deg);\n        }\n      }\n    `}\n\n  .line {\n    width: 30px;\n    height: 3px;\n    background-color: #ecf0f1;\n    display: block;\n    margin: 3px 0;\n    transition: all 0.3s ease-in-out;\n  }\n`;\nfunction Header() {\n  const [active, setActive] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const handleClick = (path) => {\n    const dataObj = {\n      type: path,\n    };\n    dispatch(setSearchData(dataObj));\n    setActive(false);\n    history.push(\"/search\");\n  };\n\n  const goHome = () => {\n    setActive(false);\n    history.push(\"/\");\n  };\n\n  const controlMenu = () => {\n    setActive((prevState) => {\n      return !prevState;\n    });\n  };\n\n  useEffect(() => {\n    if (active) {\n      document.body.style = \"position:fixed\";\n    } else {\n      document.body.style = \"\";\n    }\n  }, [active]);\n  return (\n    <>\n      <HeaderComp>\n        <img className=\"logo\" onClick={goHome} src={process.env.PUBLIC_URL + `/image/logo.png`} />\n        {/* <h1 onClick={goHome}>台灣走走 • Tai Walk</h1> */}\n        <MenuComp>\n          {MENU_LIST.map((vo) => {\n            return (\n              <li\n                key={vo.name}\n                onClick={() => {\n                  handleClick(vo.path);\n                }}\n              >\n                {vo.name}\n              </li>\n            );\n          })}\n        </MenuComp>\n      </HeaderComp>\n      <MobileComp>\n        <img className=\"logo\" onClick={goHome} src={process.env.PUBLIC_URL + `/image/logo-mobile.png`} />\n        <HamburgerComp active={active} onClick={controlMenu}>\n          <span className=\"line\"></span>\n          <span className=\"line\"></span>\n          <span className=\"line\"></span>\n        </HamburgerComp>\n      </MobileComp>\n      {active && (\n        <MobileMenu>\n          {MENU_LIST.map((vo) => {\n            return (\n              <li\n                key={\"m\" + vo.name}\n                onClick={() => {\n                  handleClick(vo.path);\n                }}\n              >\n                {vo.name}\n              </li>\n            );\n          })}\n        </MobileMenu>\n      )}\n    </>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst FooterComponent = styled.footer`\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  background-color: var(--green);\n  color: #fff;\n`;\n\nfunction Footer() {\n  return <FooterComponent>The F2E 3rd 台灣旅遊景點導覽</FooterComponent>;\n}\n\nexport default Footer;\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"./Header.jsx\";\r\nimport Footer from \"./Footer.jsx\";\r\nconst DefaultComponent = styled.div`\r\n  /* overflow-y: scroll; */\r\n`;\r\n\r\nfunction DefaultTemp(props) {\r\n  return (\r\n    <DefaultComponent>\r\n      <Header />\r\n      <div className=\"wrapper\">{props.children}</div>\r\n      <Footer />\r\n    </DefaultComponent>\r\n  );\r\n}\r\n\r\nexport default DefaultTemp;\r\n","import React, { useEffect, Fragment } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction ScrollToTop({ history, children }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, []);\n\n  return <Fragment>{children}</Fragment>;\n}\n\nexport default withRouter(ScrollToTop);\n","import React from \"react\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Carousel } from \"react-responsive-carousel\";\n\nfunction Slider() {\n  const list = [\"南投 ｜ 清境農場\", \"花蓮 ｜ 花東縱谷\", \"高雄 ｜ 三鳳宮\", \"台北 ｜ 101\", \"新北 ｜ 野柳\"];\n  const settings = {\n    dots: true,\n    infinite: true,\n    autoPlay: true,\n    speed: 500,\n    showStatus: false,\n  };\n  return (\n    <Carousel {...settings}>\n      {/* <img src={process.env.PUBLIC_URL + `image/banner/0.jpg`} /> */}\n      {list.map((vo, index) => {\n        return (\n          <div className=\"carousel-item\" key={vo} style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/image/banner/${index}.jpg)` }}>\n            <p className=\"carousel-title\">{vo}</p>\n          </div>\n        );\n      })}\n    </Carousel>\n  );\n}\n\nexport default Slider;\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SelectComponent = styled.div`\r\n  width: 300px;\r\n  margin-right: 5px;\r\n  margin-top: 0px;\r\n  height: 32px;\r\n  input {\r\n    min-height: 18px !important;\r\n  }\r\n  @media (max-width: 980px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst theme = (theme) => ({\r\n  ...theme,\r\n  borderRadius: 8,\r\n  colors: {\r\n    ...theme.colors,\r\n  },\r\n});\r\n\r\nexport const customStyles = {\r\n  option: (provided, state) => ({\r\n    ...provided,\r\n    borderBottom: \"1px dotted #ccc\",\r\n    color: state.isSelected ? \"#fff\" : \"#666\",\r\n    backgroundColor: state.isSelected ? \"#6E7D60\" : \"#fff\",\r\n    padding: 5,\r\n  }),\r\n  control: (provided) => ({\r\n    ...provided,\r\n    // none of react-select's styles are passed to <Control />\r\n    border: \"1px solid #ddd\",\r\n    color: \"#ccc\",\r\n    // height: \"32px\",\r\n  }),\r\n  singleValue: (provided, state) => ({\r\n    ...provided,\r\n    borderRadius: \"4px\",\r\n    // backgroundColor: \"green\",\r\n    opacity: state.isDisabled ? 0.5 : 1,\r\n  }),\r\n};\r\n\r\nfunction DropDown(props) {\r\n  return (\r\n    <SelectComponent>\r\n      <Select defaultValue={props.defaultValue} theme={theme} styles={customStyles} onChange={props.onChange} options={props.options} />\r\n    </SelectComponent>\r\n  );\r\n}\r\n\r\nexport default DropDown;\r\n","import React, { useState } from \"react\";\nimport DropDown from \"@/components/DropDown.jsx\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMapMarkerAlt, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\nimport { TYPE_LIST } from \"@/global/constant\";\n\nconst TitleComp = styled.div`\n  text-align: left;\n  padding: 5% 10%;\n  display: flex;\n  justify-content: center;\n  @media (max-width: 980px) {\n    display: block;\n    text-align: center;\n    padding: 5% 0;\n  }\n  .area {\n    width: 40%;\n    padding-left: 20px;\n    @media (max-width: 980px) {\n      width: 100%;\n      padding-left: 0px;\n    }\n  }\n  .main-title {\n    font-size: 36px;\n    line-height: 50px;\n    @media (max-width: 980px) {\n      font-size: 32px;\n    }\n    .taiwan {\n      position: relative;\n      &:after {\n        content: \"\";\n        position: absolute;\n        bottom: -3px;\n        height: 2px;\n        background-color: var(--green_light);\n        width: 100%;\n        left: 0;\n      }\n    }\n  }\n  .sub-title {\n    font-size: 16px;\n    padding: 20px 0;\n    color: #646464;\n    svg {\n      color: var(--green_light);\n      margin: 0 5px;\n    }\n    span {\n      color: #646464;\n    }\n  }\n  .search-input {\n    width: 300px;\n    margin-top: 10px;\n    @media (max-width: 980px) {\n      width: 100%;\n      margin-top: 16px;\n    }\n  }\n  .search-btn {\n    width: 300px;\n    height: 40px;\n    margin-top: 10px;\n    letter-spacing: 5px;\n    display: block;\n    cursor: pointer;\n    @media (max-width: 980px) {\n      width: 100%;\n    }\n    svg {\n      margin-right: 5px;\n      cursor: pointer;\n    }\n  }\n`;\n\nfunction Search() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [keyword, setKeyword] = useState(\"\");\n  const [selectedOption, setSelectedOption] = useState(TYPE_LIST[1]);\n\n  const saveSearchData = () => {\n    const dataObj = {\n      keyword,\n      type: selectedOption?.value,\n    };\n    dispatch(setSearchData(dataObj));\n    history.push(\"/search\");\n  };\n\n  return (\n    <TitleComp>\n      <div className=\"area\">\n        <p className=\"main-title\">\n          探索<span className=\"taiwan\">台灣之美</span>\n        </p>\n        <p className=\"main-title\">讓我們更親近這片土地</p>\n        <p className=\"sub-title\">\n          <FontAwesomeIcon className=\"mark\" icon={faMapMarkerAlt} />\n          台灣旅遊景點導覽 <span>Taiwan Travel Guide</span>\n        </p>\n      </div>\n      <div className=\"area\">\n        <DropDown defaultValue={selectedOption} onChange={setSelectedOption} options={TYPE_LIST} />\n        <input\n          className=\"search-input\"\n          placeholder=\"你想去哪裡？請輸入關鍵字\"\n          value={keyword}\n          onChange={(e) => {\n            setKeyword(e.target.value);\n          }}\n        />\n        <button className=\"search-btn\" onClick={saveSearchData}>\n          <FontAwesomeIcon className=\"mark\" icon={faSearch} />\n          搜尋\n        </button>\n      </div>\n    </TitleComp>\n  );\n}\n\nexport default Search;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { setIntroData } from \"@/store/slice/introSlice\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMapMarkerAlt, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { transDate } from \"@/utils/common\";\nimport { useHistory } from \"react-router-dom\";\nimport { defaultCover } from \"@/global/constant\";\nconst ListComp = styled.div`\n  width: 49%;\n  cursor: pointer;\n  display: flex;\n  overflow: hidden;\n  border: 1px solid var(--line);\n  border-radius: 12px;\n  margin-top: 10px;\n  background-color: var(--gray);\n  transition-duration: 0.3s;\n  height: 120px;\n  @media (max-width: 980px) {\n    width: 100%;\n  }\n  &:hover {\n    .cover {\n      img {\n        transform: scale(1.1);\n      }\n    }\n  }\n  .cover {\n    width: 150px;\n    overflow: hidden;\n    @media (max-width: 980px) {\n      width: 80px;\n    }\n    img {\n      transition-duration: 0.3s;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n  .text {\n    flex: 1;\n    padding: 10px 14px;\n    position: relative;\n  }\n  .bottom-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: absolute;\n    width: 90%;\n    bottom: 10px;\n  }\n  .intro {\n    @media (max-width: 980px) {\n      display: none;\n    }\n  }\n`;\n\nfunction ListItem({ data }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const setImage = (Picture = {}) => {\n    const { PictureUrl1 } = Picture;\n    return PictureUrl1 ? PictureUrl1 : defaultCover;\n  };\n  const handleClick = () => {\n    dispatch(setIntroData(data));\n    history.push({\n      pathname: \"/intro\",\n    });\n  };\n  return (\n    <ListComp\n      onClick={() => {\n        handleClick();\n      }}\n    >\n      <div className=\"cover\">\n        <img\n          src={setImage(data.Picture)}\n          onError={({ currentTarget }) => {\n            currentTarget.onerror = null;\n            currentTarget.src = defaultCover;\n          }}\n        />\n      </div>\n      <div className=\"text\">\n        <p className=\"date\">{`${transDate(data.StartTime)}-${transDate(data.EndTime)}`}</p>\n        <p className=\"item-title\">{data.ActivityName || data.RestaurantName}</p>\n        <p className=\"bottom-info\">\n          <span className=\"location\">\n            <FontAwesomeIcon className=\"mark\" icon={faMapMarkerAlt} />\n            {data.Address}\n          </span>\n          <span className=\"intro\">\n            詳細介紹\n            <FontAwesomeIcon className=\"mark\" icon={faChevronRight} />\n          </span>\n        </p>\n      </div>\n    </ListComp>\n  );\n}\n\nexport default ListItem;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\nimport ListItem from \"@/components/ListItem.jsx\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { getActivity } from \"@/utils/api\";\nconst ActComp = styled.div`\n  margin-top: 30px;\n  .title-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    svg {\n      margin-left: 5px;\n    }\n  }\n  .list {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-top: 10px;\n    @media (max-width: 980px) {\n      display: block;\n    }\n  }\n`;\n\nfunction Activity() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [list, setList] = useState([]);\n  const getAct = async () => {\n    const sendData = {\n      $top: 4,\n      $orderBy: \"EndTime desc\",\n      $filter: \"Picture/PictureUrl1 ne null\",\n    };\n    const result = await getActivity(sendData);\n    setList(result);\n  };\n  const handleClick = () => {\n    const dataObj = {\n      type: \"activity\",\n    };\n    dispatch(setSearchData(dataObj));\n    history.push(\"/search\");\n  };\n  useEffect(() => {\n    getAct();\n  }, []);\n  return (\n    <ActComp>\n      <div className=\"title-bar\">\n        <h3 className=\"title\">近期活動</h3>\n        <span className=\"more\" onClick={handleClick}>\n          查看更多活動\n          <FontAwesomeIcon className=\"mark\" icon={faChevronRight} />\n        </span>\n      </div>\n      <div className=\"list\">\n        {list?.map((vo) => {\n          return <ListItem key={vo.ActivityID} data={{ ...vo, type: \"activity\" }} />;\n        })}\n      </div>\n    </ActComp>\n  );\n}\n\nexport default Activity;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { setIntroData } from \"@/store/slice/introSlice\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMapMarkerAlt } from \"@fortawesome/free-solid-svg-icons\";\nconst Card = styled.div`\n  width: 24%;\n  cursor: pointer;\n  @media (max-width: 980px) {\n    width: 100%;\n  }\n  &:hover {\n    .cover {\n      img {\n        transform: scale(1.1);\n      }\n    }\n  }\n  .cover {\n    border-radius: 20px;\n    height: 200px;\n    margin-bottom: 10px;\n    overflow: hidden;\n    img {\n      transition-duration: 0.3s;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n  }\n  .location {\n    margin-bottom: 10px;\n    text-align: left;\n    padding: 10px 0;\n  }\n`;\n\nfunction ListCard({ data }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const setImage = (Picture = {}) => {\n    const { PictureUrl1 } = Picture;\n    return PictureUrl1 ? PictureUrl1 : process.env.PUBLIC_URL + `/image/default/default.png`;\n  };\n  const handleClick = () => {\n    dispatch(setIntroData(data));\n    history.push({\n      pathname: `/intro`,\n      // state: data,\n    });\n  };\n  return (\n    <Card\n      onClick={() => {\n        handleClick();\n      }}\n    >\n      <div className=\"cover\">\n        <img src={setImage(data.Picture)} />\n      </div>\n      <p className=\"item-title\">{data.ScenicSpotName || data.RestaurantName}</p>\n      <p className=\"location\">\n        <FontAwesomeIcon className=\"mark\" icon={faMapMarkerAlt} />\n        {data.Address || data.City}\n      </p>\n    </Card>\n  );\n}\n\nexport default ListCard;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport ListCard from \"./ListCard.jsx\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\n\nconst RecommendComp = styled.div`\n  margin-top: 50px;\n  .title-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    svg {\n      margin-left: 5px;\n    }\n  }\n  .list {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-top: 16px;\n    @media (max-width: 980px) {\n      display: block;\n    }\n  }\n`;\n\nfunction Recommend({ title, type, data }) {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const handleClick = () => {\n    const dataObj = {\n      type,\n    };\n    dispatch(setSearchData(dataObj));\n    history.push(\"/search\");\n  };\n  return (\n    <RecommendComp>\n      <div className=\"title-bar\">\n        <h3 className=\"title\">{title}</h3>\n        <span className=\"more\" onClick={handleClick}>\n          查看更多活動\n          <FontAwesomeIcon className=\"mark\" icon={faChevronRight} />\n        </span>\n      </div>\n      <div className=\"list\">\n        {data?.map((vo) => {\n          return <ListCard data={{ ...vo, type }} key={vo.ScenicSpotID ?? vo.RestaurantID} />;\n        })}\n      </div>\n    </RecommendComp>\n  );\n}\n\nexport default Recommend;\n","import React, { useEffect, useState } from \"react\";\nimport Slider from \"./components/Slider.jsx\";\nimport Search from \"./components/Search.jsx\";\nimport Activity from \"./components/Activity.jsx\";\nimport Recommend from \"../../components/Recommend.jsx\";\nimport { getSpot, getRestaurant } from \"../../utils/api\";\n\nfunction Index() {\n  const [spotList, setSpotList] = useState([]);\n  const [restList, setRestList] = useState([]);\n  const getSpotApi = async () => {\n    const sendData = {\n      $top: 4,\n      $filter: \"Picture/PictureUrl1 ne null\",\n    };\n    try {\n      let result = await getSpot(sendData);\n      if (Array.isArray(result)) {\n        setSpotList((prevState) => [...prevState, ...result]);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n\n  const getRestaurantApi = async () => {\n    const sendData = {\n      $top: 4,\n      $filter: \"Picture/PictureUrl1 ne null\",\n    };\n    try {\n      let result = await getRestaurant(sendData);\n      if (Array.isArray(result)) {\n        setRestList((prevState) => [...prevState, ...result]);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"spotList\", spotList);\n  }, [spotList]);\n\n  useEffect(() => {\n    getSpotApi();\n    getRestaurantApi();\n  }, []);\n  return (\n    <div>\n      <Search />\n      <Slider />\n      <Activity />\n      <Recommend title=\"熱門打卡景點\" type=\"spot\" data={spotList} />\n      <Recommend title=\"一再回訪美食\" type=\"restaurant\" data={restList} />\n    </div>\n  );\n}\n\nexport default Index;\n","import React from \"react\";\n\nfunction MapIframe({ Name }) {\n  return <iframe width=\"100%\" height=\"250\" loading=\"lazy\" src={`https://maps.google.com/maps?q=${Name}&hl=zh-TW&z=16&output=embed`}></iframe>;\n}\n\nexport default MapIframe;\n","import React from \"react\";\r\nimport { transDate } from \"../utils/common\";\r\nfunction InfoCardAct({ data }) {\r\n  return (\r\n    <div className=\"detail\">\r\n      <p>\r\n        <strong className=\"focus\">活動時間:</strong>\r\n        {`${transDate(data.StartTime)}-${transDate(data.EndTime)}`}\r\n      </p>\r\n      {/* <p>\r\n            <strong className=\"focus\">聯絡電話:</strong>\r\n            {data.Phone}\r\n          </p> */}\r\n      <p>\r\n        <strong className=\"focus\">主辦單位:</strong>\r\n        {data.Organizer}\r\n      </p>\r\n      <p>\r\n        <strong className=\"focus\">活動地點:</strong>\r\n        {data.Address}\r\n      </p>\r\n      {/* <p>\r\n            <strong className=\"focus\">官方網站:</strong>\r\n\r\n          </p>\r\n          <p>\r\n            <strong className=\"focus\">活動費用:</strong>\r\n            {data.Remarks}\r\n          </p>\r\n          <p>\r\n            <strong className=\"focus\">注意事項:</strong>\r\n            {data.Remarks}\r\n          </p> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoCardAct;\r\n","import React from \"react\";\r\n\r\nfunction InfoCardRest({ data }) {\r\n  return (\r\n    <div className=\"detail\">\r\n      <p>\r\n        <h3 className=\"focus\">營業時間:</h3>\r\n        {data.OpenTime}\r\n      </p>\r\n      <p>\r\n        <h3 className=\"focus\">聯絡電話:</h3>\r\n        <a href={`tel:${data.Phone}`}>{data.Phone}</a>\r\n      </p>\r\n      <p>\r\n        <h3 className=\"focus\">餐廳地址:</h3>\r\n        {data.Address}\r\n      </p>\r\n      <p>\r\n        <h3 className=\"focus\">官方網站:</h3>\r\n        {data.WebsiteUrl ? (\r\n          <a href={data.WebsiteUrl} target=\"_blank\" rel=\"noreferrer\">\r\n            {data.WebsiteUrl}\r\n          </a>\r\n        ) : (\r\n          <span>無</span>\r\n        )}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoCardRest;\r\n","import React from \"react\";\r\n\r\nfunction InfoCardSpot({ data }) {\r\n  return (\r\n    <div className=\"detail\">\r\n      <p>\r\n        <strong className=\"focus\">開放時間:</strong>\r\n        {data.OpenTime}\r\n      </p>\r\n      <p>\r\n        <strong className=\"focus\">服務電話:</strong>\r\n        <a href={`tel:${data.Phone}`}>{data.Phone}</a>\r\n      </p>\r\n      <p>\r\n        <strong className=\"focus\">景點地址:</strong>\r\n        {data.Address}\r\n      </p>\r\n      {/* <p>\r\n            <strong className=\"focus\">官方網站:</strong>\r\n\r\n          </p> */}\r\n      <p>\r\n        <strong className=\"focus\">票價資訊:</strong>\r\n        {data.TicketInfo}\r\n      </p>\r\n      <p>\r\n        <strong className=\"focus\">注意事項:</strong>\r\n        {data.Remarks || \"無\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoCardSpot;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MENU_LIST } from \"@/global/constant\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\r\n\r\nconst CrumbComp = styled.div`\r\n  padding-bottom: 20px;\r\n  font-size: 14px;\r\n  .crumb-text {\r\n    color: var(--green);\r\n    cursor: pointer;\r\n  }\r\n  strong {\r\n    color: var(--green);\r\n    margin: 0 5px;\r\n  }\r\n`;\r\n\r\nexport default function Crumb({ type, title }) {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const goPage = (title) => {\r\n    let goPath = \"\";\r\n    if (title === \"首頁\") goPath = \"/\";\r\n    MENU_LIST.forEach((element) => {\r\n      if (element.name === title) {\r\n        goPath = \"/search\";\r\n        const dataObj = {\r\n          type: element.path,\r\n        };\r\n        dispatch(setSearchData(dataObj));\r\n      }\r\n    });\r\n    goPath &&\r\n      history.push({\r\n        pathname: goPath,\r\n      });\r\n  };\r\n  return (\r\n    <CrumbComp>\r\n      <span\r\n        onClick={() => {\r\n          goPage(type);\r\n        }}\r\n        className=\"crumb-text\"\r\n      >\r\n        {type}\r\n      </span>\r\n      <strong>/</strong>\r\n      <span\r\n        onClick={() => {\r\n          goPage(title);\r\n        }}\r\n        className=\"crumb-text\"\r\n      >\r\n        {title}\r\n      </span>\r\n    </CrumbComp>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Recommend from \"../../components/Recommend.jsx\";\n// import { useLocation } from \"react-router\";\nimport { useSelector } from \"react-redux\";\n// import Map from \"./components/Map\";\nimport MapIframe from \"./components/MapIframe.jsx\";\nimport { getActivity, getSpot, getRestaurant } from \"../../utils/api\";\nimport InfoCardAct from \"../../components/InfoCardAct.jsx\";\nimport InfoCardRest from \"../../components/InfoCardRest.jsx\";\nimport InfoCardSpot from \"../../components/InfoCardSpot.jsx\";\nimport Crumb from \"../../components/Crumb.jsx\";\nimport { TYPE_LIST, defaultCover } from \"../../global/constant\";\n\nconst IntroComp = styled.div`\n  margin-top: 30px;\n  .main-cover {\n    width: 100%;\n    height: 400px;\n    object-fit: cover;\n    border-radius: 20px;\n    @media (max-width: 980px) {\n      height: 200px;\n    }\n  }\n  .intro-title {\n    font-size: 32px;\n    padding: 20px 0 16px;\n  }\n  .tag {\n    color: var(--brown);\n    font-size: 14px;\n    padding: 5px;\n    border-radius: 20px;\n    margin-right: 5px;\n    border: 1px solid var(--brown);\n  }\n  .content {\n    padding: 30px 0 20px;\n    h3 {\n      padding-bottom: 14px;\n    }\n    p {\n      line-height: 24px;\n    }\n  }\n  .intro {\n    display: flex;\n    justify-content: space-between;\n    @media (max-width: 980px) {\n      display: block;\n    }\n  }\n  .map {\n    width: 48%;\n    height: 100%;\n    @media (max-width: 980px) {\n      width: 100%;\n    }\n  }\n  .detail {\n    width: 48%;\n    background: #f9f9f9;\n    border-radius: 20px;\n    padding: 20px 10px;\n    @media (max-width: 980px) {\n      width: 100%;\n    }\n    p {\n      padding: 8px 0;\n      display: flex;\n      line-height: 20px;\n      .focus {\n        margin-right: 5px;\n        word-break: keep-all;\n      }\n    }\n    a {\n      word-break: break-all;\n      color: var(--green);\n    }\n  }\n`;\nfunction Index() {\n  // const { state } = useLocation();\n  const [recommend, setRecommend] = useState([]);\n  const [tag, setTag] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const introData = useSelector((state) => state.intro.introData);\n\n  const setImage = (Picture = {}) => {\n    const { PictureUrl1 } = Picture;\n    return PictureUrl1 ? PictureUrl1 : process.env.PUBLIC_URL + `/image/default/act.jpg`;\n  };\n\n  const randomNum = (x) => {\n    const num = Math.floor(Math.random() * x) + 1;\n    return num * 4;\n  };\n  const getRecommend = async () => {\n    const sendData = {\n      $top: 4,\n      $skip: randomNum(30),\n      $filter: \"Picture/PictureUrl1 ne null\",\n    };\n    let title = \"\";\n    let result = [];\n    switch (introData.type) {\n      case \"activity\":\n        title = \"活動\";\n        result = await getActivity(sendData);\n        break;\n      case \"spot\":\n        title = \"景點\";\n        result = await getSpot(sendData);\n        break;\n      default:\n        title = \"餐廳\";\n        result = await getRestaurant(sendData);\n        break;\n    }\n\n    setTitle(title);\n    setRecommend(result);\n  };\n\n  const InfoCard = () => {\n    switch (introData.type) {\n      case \"activity\":\n        return <InfoCardAct data={introData} />;\n      case \"spot\":\n        return <InfoCardSpot data={introData} />;\n      default:\n        return <InfoCardRest data={introData} />;\n    }\n  };\n\n  const getTag = () => {\n    let arr = [];\n    for (const [key, value] of Object.entries(introData)) {\n      if (key.includes(\"Class\")) arr.push(`#${value}`);\n    }\n    if (arr.length === 0) arr.push(\"#熱門打卡\");\n    setTag(arr);\n  };\n  const getCrumb = () => {\n    if (!introData.type) return \"\";\n    const { label } = TYPE_LIST.find((vo) => vo.value === introData.type);\n    return label;\n  };\n\n  const getTitle = (data) => {\n    const { ActivityName, ScenicSpotName, RestaurantName } = data;\n    return ActivityName || ScenicSpotName || RestaurantName;\n  };\n\n  useEffect(() => {\n    // saveState();\n  }, []);\n\n  useEffect(() => {\n    getRecommend();\n    getTag();\n  }, [introData]);\n\n  return (\n    <IntroComp>\n      <Crumb type={getCrumb()} title={getTitle(introData)} />\n      <img\n        className=\"main-cover\"\n        src={setImage(introData.Picture)}\n        onError={({ currentTarget }) => {\n          currentTarget.onerror = null;\n          currentTarget.src = defaultCover;\n        }}\n      />\n      <h2 className=\"intro-title\">{getTitle(introData)}</h2>\n      <div className=\"tag-group\">\n        {tag?.map((vo) => {\n          return (\n            <span className=\"tag\" key={vo}>\n              {vo}\n            </span>\n          );\n        })}\n      </div>\n      <div className=\"content\">\n        <h3 className=\"focus\">{title}介紹:</h3>\n        <p>{introData.type === \"spot\" ? introData.DescriptionDetail : introData.Description}</p>\n      </div>\n      <div className=\"intro\">\n        <InfoCard />\n        <div className=\"map\">\n          <MapIframe Name={getTitle(introData)} />\n          {/* <Map Position={introData.Position} /> */}\n        </div>\n      </div>\n      <Recommend title=\"還有這些不能錯過\" type={introData.type} data={recommend} />\n    </IntroComp>\n  );\n}\n\nexport default Index;\n","import React from \"react\";\r\nimport DropDown from \"./DropDown.jsx\";\r\nimport { CITY_LIST } from \"@/global/constant\";\r\nfunction CitySelect({ setCity, city }) {\r\n  return <DropDown defaultValue={city} onChange={setCity} options={CITY_LIST} />;\r\n}\r\n\r\nexport default CitySelect;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst CategoryComp = styled.div`\r\n  padding-top: 50px;\r\n  .list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-top: 20px;\r\n    .item {\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-bottom: 20px;\r\n      width: 23%;\r\n      border-radius: 20px;\r\n      height: 168px;\r\n      font-size: 20px;\r\n      background-size: 100%;\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n      @media (max-width: 980px) {\r\n        width: 100%;\r\n      }\r\n      p {\r\n        color: #fff;\r\n        transition: 0.2s;\r\n      }\r\n      &:hover {\r\n        p {\r\n          transform: scale(1.1);\r\n          color: #d5e2c8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst categoryList = {\r\n  activity: [\r\n    { keyword: \"節慶\", cover: \"event_type_1\", title: \"節慶活動\" },\r\n    { keyword: \"自行車\", cover: \"event_type_2\", title: \"自行車活動\" },\r\n    { keyword: \"休閒\", cover: \"event_type_3\", title: \"遊憩活動\" },\r\n    { keyword: \"產業\", cover: \"event_type_4\", title: \"產業文化活動\" },\r\n    { keyword: \"2021\", cover: \"event_type_5\", title: \"年度活動\" },\r\n    { keyword: \"秋\", cover: \"event_type_6\", title: \"四季活動\" },\r\n    { keyword: \"\", cover: \"we\", title: \"\" },\r\n    { keyword: \"\", cover: \"ew\", title: \"\" },\r\n  ],\r\n  spot: [\r\n    { keyword: \"風景\", cover: \"spot_type_1\", title: \"自然風景類\" },\r\n    { keyword: \"工廠\", cover: \"spot_type_2\", title: \"觀光工廠類\" },\r\n    { keyword: \"休閒\", cover: \"spot_type_3\", title: \"遊憩類\" },\r\n    { keyword: \"農業\", cover: \"spot_type_4\", title: \"休閒農業類\" },\r\n    { keyword: \"生態\", cover: \"spot_type_5\", title: \"生態類\" },\r\n    { keyword: \"溫泉\", cover: \"spot_type_6\", title: \"溫泉類\" },\r\n    { keyword: \"古蹟\", cover: \"spot_type_7\", title: \"古蹟類\" },\r\n    { keyword: \"\", cover: \"wq\", title: \"\" },\r\n  ],\r\n  restaurant: [\r\n    { keyword: \"特產\", cover: \"food_type_1\", title: \"地方特產\" },\r\n    { keyword: \"中式\", cover: \"food_type_2\", title: \"中式美食\" },\r\n    { keyword: \"甜點\", cover: \"food_type_3\", title: \"甜點冰品\" },\r\n    { keyword: \"異國\", cover: \"food_type_4\", title: \"異國料理\" },\r\n    { keyword: \"伴手禮\", cover: \"food_type_5\", title: \"伴手禮\" },\r\n    { keyword: \"素食\", cover: \"food_type_6\", title: \"素食\" },\r\n    { keyword: \"\", cover: \"sd\", title: \"\" },\r\n    { keyword: \"\", cover: \"ad\", title: \"\" },\r\n  ],\r\n};\r\nfunction Category({ type = \"spot\", setCategory }) {\r\n  const selectCategory = (category) => {\r\n    if (!category) return;\r\n    setCategory(category);\r\n  };\r\n\r\n  return (\r\n    <CategoryComp>\r\n      <h2 className=\"title\">熱門主題</h2>\r\n      <ul className=\"list\">\r\n        {type &&\r\n          categoryList[type].map((vo) => {\r\n            return (\r\n              <li\r\n                onClick={() => {\r\n                  selectCategory(vo.keyword);\r\n                }}\r\n                className=\"item\"\r\n                key={vo.cover}\r\n                style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/image/catagory/${type}/${vo.cover}.png)` }}\r\n              >\r\n                <p>{vo.title}</p>\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n    </CategoryComp>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n","import React from \"react\";\r\nimport usePortal from \"react-useportal\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoadComp = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  .load-container {\r\n    position: absolute;\r\n    width: 200px;\r\n    height: 50px;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    margin: auto;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .letter {\r\n    color: #fff;\r\n    animation-name: loading;\r\n    animation-duration: 1.6s;\r\n    animation-iteration-count: infinite;\r\n    animation-direction: linear;\r\n    font-size: 20px;\r\n  }\r\n\r\n  @for $i from 1 to 10 {\r\n    .l-#{$i} {\r\n      animation-delay: 0.48s + $i * 0.12s;\r\n    }\r\n  }\r\n\r\n  @keyframes loading {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Loading() {\r\n  const { Portal } = usePortal({\r\n    onOpen({ portal }) {\r\n      portal.current.style.cssText = `\r\n            /* add your css here for the Portal */\r\n            position: fixed;\r\n            width: 100vw;\r\n            height: 100vh;\r\n            transform: translate(-50%,-50%);\r\n            z-index: 1000;\r\n          `;\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Portal>\r\n      <LoadComp>\r\n        <div className=\"load-container\">\r\n          <div className=\"l-1 letter\">L</div>\r\n          <div className=\"l-2 letter\">o</div>\r\n          <div className=\"l-3 letter\">a</div>\r\n          <div className=\"l-4 letter\">d</div>\r\n          <div className=\"l-5 letter\">i</div>\r\n          <div className=\"l-6 letter\">n</div>\r\n          <div className=\"l-7 letter\">g</div>\r\n          <div className=\"l-8 letter\">.</div>\r\n          <div className=\"l-9 letter\">.</div>\r\n          <div className=\"l-10 letter\">.</div>\r\n        </div>\r\n      </LoadComp>\r\n    </Portal>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport CitySelect from \"@/components/CitySelect.jsx\";\r\nimport ListCard from \"@/components/ListCard.jsx\";\r\nimport Crumb from \"@/components/Crumb.jsx\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearch, faFileAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { TYPE_LIST } from \"@/global/constant\";\r\nimport { setSearchData } from \"@/store/slice/searchDataSlice\";\r\nimport { getActivity, getSpot, getRestaurant } from \"@/utils/api\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport Category from \"@/components/Category.jsx\";\r\nimport Loading from \"@/components/Loading.jsx\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst SearchPageComp = styled.div`\r\n  padding-top: 50px;\r\n  .search-bar {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    @media (max-width: 980px) {\r\n      display: block;\r\n    }\r\n    .search-input {\r\n      flex-grow: 1;\r\n      margin-top: 5px;\r\n      margin-right: 5px;\r\n      @media (max-width: 980px) {\r\n        width: 100%;\r\n        margin: ${(props) => (props.type === \"activity\" ? \"4px 0\" : \"20px 0 10px\")};\r\n      }\r\n    }\r\n    .react-datepicker-wrapper {\r\n      margin-top: 5px;\r\n      margin-right: 5px;\r\n      width: 200px;\r\n      input {\r\n        width: 200px;\r\n      }\r\n      @media (max-width: 980px) {\r\n        margin-top: 10px;\r\n        width: 100% !important;\r\n        .input {\r\n          height: 44px;\r\n        }\r\n      }\r\n    }\r\n    .search-btn {\r\n      width: 160px;\r\n      height: 40px;\r\n      letter-spacing: 5px;\r\n      display: block;\r\n      cursor: pointer;\r\n      @media (max-width: 980px) {\r\n        width: 100%;\r\n      }\r\n      svg {\r\n        margin-right: 5px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst SearchResultComp = styled.div`\r\n  .search-result-text {\r\n    padding: 50px 0 20px;\r\n    font-weight: normal;\r\n    font-size: 28px;\r\n    span {\r\n      padding-left: 6px;\r\n      font-size: 16px;\r\n      strong {\r\n        color: #949142;\r\n      }\r\n    }\r\n  }\r\n  .search-result-list {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    @media (max-width: 980px) {\r\n      display: block;\r\n    }\r\n    svg {\r\n      color: var(--green);\r\n    }\r\n  }\r\n  .no-data {\r\n    font-size: 20px;\r\n    line-height: 24px;\r\n    width: 200px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    svg {\r\n      display: block;\r\n      font-size: 60px;\r\n      margin: 20px auto;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Index() {\r\n  let endFlag = false;\r\n  let skip = 0;\r\n  const dispatch = useDispatch();\r\n  const [result, setResult] = useState([]);\r\n  const [city, _setCity] = useState(\"\");\r\n  const [keyword, _setKeyword] = useState(\"\");\r\n  const [category, _setCategory] = useState(\"\");\r\n  const [startDate, _setStartDate] = useState(new Date());\r\n  const [showCategory, _setShowCategory] = useState(true);\r\n  const [pennding, setPennding] = useState(false);\r\n  const searchData = useSelector((state) => state.search.searchData);\r\n  const refKeyword = useRef(keyword);\r\n  const refStartDate = useRef(startDate);\r\n  const refCity = useRef(city);\r\n  const refCatacory = useRef(category);\r\n  const refShowCategory = useRef(showCategory);\r\n\r\n  const setKeyword = (data) => {\r\n    refKeyword.current = data;\r\n    _setKeyword(data);\r\n  };\r\n\r\n  const setStartDate = (data) => {\r\n    refStartDate.current = data;\r\n    _setStartDate(data);\r\n  };\r\n\r\n  const setCity = (data) => {\r\n    refCity.current = data;\r\n    _setCity(data);\r\n  };\r\n\r\n  const setCategory = (data) => {\r\n    refCatacory.current = data;\r\n    _setCategory(data);\r\n  };\r\n\r\n  const setShowCategory = (data) => {\r\n    refShowCategory.current = data;\r\n    _setShowCategory(data);\r\n  };\r\n\r\n  const placeholderConfig = {\r\n    activity: \"你想玩什麼？\",\r\n    spot: \"你想去哪裡？\",\r\n    restaurant: \"你想吃什麼？\",\r\n  };\r\n\r\n  const getCrumb = () => {\r\n    const { label } = TYPE_LIST.find((vo) => vo.value === searchData.type);\r\n    return label;\r\n  };\r\n\r\n  const saveSearchData = () => {\r\n    setCategory(\"\");\r\n    resetSearch();\r\n    getData();\r\n    // dispatch(setSearchData(dataObj));\r\n  };\r\n\r\n  const resetSearch = () => {\r\n    skip = 0;\r\n    endFlag = false;\r\n    // setStartDate(new Date());\r\n    // setKeyword(\"\");\r\n    // setCity({});\r\n    setResult([]);\r\n  };\r\n\r\n  const chainStr = (arr) => {\r\n    let newArr = arr.filter((vo) => vo !== \"\");\r\n    return newArr.join(\" and \");\r\n  };\r\n\r\n  const transDate = (date) => {\r\n    const time = new Date(date);\r\n    return [time.getMonth() + 1, time.getFullYear()];\r\n  };\r\n\r\n  const queryStr = () => {\r\n    const word = [getQueryName(), \"Description\"];\r\n    const wordArr = word?.map((vo) => {\r\n      return ` contains(${vo}, '${refCatacory.current}') `;\r\n    });\r\n    return wordArr.join(\"or\");\r\n  };\r\n\r\n  const getQueryName = () => {\r\n    if (searchData.type === \"activity\") {\r\n      return \"ActivityName\";\r\n    } else if (searchData.type === \"spot\") {\r\n      return \"ScenicSpotName\";\r\n    } else {\r\n      return \"RestaurantName\";\r\n    }\r\n  };\r\n  const getData = async () => {\r\n    let list = [];\r\n    let [month, year] = searchData.type === \"activity\" ? transDate(refStartDate.current) : [];\r\n    let nameStr = refKeyword.current ? `contains(${getQueryName()},'${keyword}')` : \"\";\r\n    let monthStr = month ? `month(StartTime) eq ${month}` : \"\";\r\n    let yearStr = year ? `year(StartTime) eq ${year}` : \"\";\r\n    let noCover = \"Picture/PictureUrl1 ne null\";\r\n    let categoryStr = refCatacory.current && queryStr();\r\n    const sendData = {\r\n      $top: 30,\r\n      $skip: skip,\r\n      $filter: chainStr([nameStr, monthStr, yearStr, noCover, categoryStr]),\r\n      city: refCity.current?.value,\r\n    };\r\n    console.log(\"sendData\", sendData);\r\n    setPennding(true);\r\n    try {\r\n      switch (searchData.type) {\r\n        case \"activity\":\r\n          list = await getActivity(sendData);\r\n          break;\r\n        case \"spot\":\r\n          list = await getSpot(sendData);\r\n          break;\r\n        default:\r\n          list = await getRestaurant(sendData);\r\n          break;\r\n      }\r\n      setPennding(false);\r\n      if (list.length === 0) {\r\n        endFlag = true;\r\n      } else {\r\n        setResult((prevState) => [...prevState, ...list]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"error\");\r\n      endFlag = true;\r\n      setPennding(false);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    if (endFlag) return;\r\n    skip += 30;\r\n    getData();\r\n  };\r\n\r\n  const scrollEvent = () => {\r\n    if (document.body.offsetHeight - window.innerHeight < 5 || endFlag || refShowCategory.current) return;\r\n    if (window.innerHeight + window.pageYOffset >= document.body.offsetHeight) {\r\n      console.log(\"is-bottom====\", keyword);\r\n      !pennding && loadMore();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", scrollEvent);\r\n    window.onbeforeunload = function (e) {\r\n      // console.log(\"reload!!\");\r\n      dispatch(setSearchData({ type: searchData.type, keyword: \"\" }));\r\n      window.scrollTo(0, 0);\r\n    };\r\n    return () => {\r\n      // console.log(\"leave!!!!\");\r\n      window.removeEventListener(\"scroll\", scrollEvent);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchData.keyword) {\r\n      setKeyword(searchData.keyword);\r\n      setShowCategory(false);\r\n      getData();\r\n    } else {\r\n      setShowCategory(true);\r\n    }\r\n    setCategory(\"\");\r\n    setResult([]);\r\n    getCrumb();\r\n    // console.log(\"searchData--change\", searchData);\r\n  }, [searchData]);\r\n\r\n  useEffect(() => {\r\n    if (category) {\r\n      setShowCategory(false);\r\n      setResult([]);\r\n      getData();\r\n    }\r\n  }, [category]);\r\n\r\n  return (\r\n    <SearchPageComp type={searchData.type}>\r\n      {pennding && <Loading />}\r\n      <Crumb type={\"首頁\"} title={getCrumb()} />\r\n      <div className=\"search-bar\">\r\n        <CitySelect setCity={setCity} city={city} />\r\n        {searchData.type === \"activity\" && <DatePicker selected={startDate} onChange={(date) => setStartDate(date)} dateFormat=\"MM/yyyy\" showMonthYearPicker />}\r\n        <input\r\n          className=\"search-input\"\r\n          placeholder={`${placeholderConfig[searchData.type]}請輸入關鍵字`}\r\n          value={keyword}\r\n          onChange={(e) => {\r\n            {\r\n              /* refKeyword.current = e.target.value */\r\n            }\r\n            setKeyword(e.target.value);\r\n          }}\r\n        />\r\n        <button className=\"search-btn\" onClick={saveSearchData}>\r\n          <FontAwesomeIcon icon={faSearch} />\r\n          搜尋\r\n        </button>\r\n      </div>\r\n      {refShowCategory.current && <Category type={searchData.type} setCategory={setCategory} />}\r\n      {!refShowCategory.current && (\r\n        <SearchResultComp>\r\n          <h3 className=\"search-result-text\">\r\n            搜尋結果\r\n            <span>\r\n              共有\r\n              <strong>{result.length}</strong>筆\r\n            </span>\r\n          </h3>\r\n          <div className=\"search-result-list\">\r\n            {result.map((vo) => {\r\n              return <ListCard key={vo.ScenicSpotID} data={{ ...vo, type: searchData.type }} />;\r\n            })}\r\n            {result.length === 0 && (\r\n              <div className=\"no-data\">\r\n                　<FontAwesomeIcon icon={faFileAlt} />\r\n                <p>查無資料</p>\r\n                <p>請重新查詢</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </SearchResultComp>\r\n      )}\r\n    </SearchPageComp>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","import { Route } from \"react-router-dom\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { persistStore } from \"redux-persist\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport DefaultTemp from \"./components/DefaultTemp.jsx\";\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport Index from \"./page/Index/index\";\r\nimport Intro from \"./page/Intro\";\r\nimport Search from \"./page/Search\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"./assets/font/NotoSans-Bold.ttf\";\r\nimport \"./assets/font/NotoSans-BoldItalic.ttf\";\r\nimport \"./assets/font/NotoSans-Italic.ttf\";\r\nimport \"./assets/font/NotoSans-Regular.ttf\";\r\nlet persistor = persistStore(store);\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <div className=\"App\">\r\n          <DefaultTemp>\r\n            <ScrollToTop>\r\n              <Route path=\"/\" exact component={Index} />\r\n              <Route path=\"/search\" exact component={Search} />\r\n              <Route path=\"/intro\" component={Intro} />\r\n            </ScrollToTop>\r\n          </DefaultTemp>\r\n          <ToastContainer />\r\n        </div>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default __webpack_public_path__ + \"static/media/NotoSans-Bold.66ab2974.ttf\";","export default __webpack_public_path__ + \"static/media/NotoSans-BoldItalic.406a212c.ttf\";","export default __webpack_public_path__ + \"static/media/NotoSans-Italic.4e7f010e.ttf\";","export default __webpack_public_path__ + \"static/media/NotoSans-Regular.fa11626f.ttf\";","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { getToken } from \"./utils/api\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n// import { createBrowserHistory } from \"history\";\nimport { HashRouter, Switch } from \"react-router-dom\";\nimport \"./style/main.scss\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// const history = createBrowserHistory();\n\nconst checkToken = async () => {\n  if (new Date().getTime() / 1000 <= Number(localStorage.getItem(\"expireTime\"))) {\n    return;\n  }\n  const res = await getToken();\n  if (res.access_token) {\n    localStorage.setItem(\"token\", res.access_token);\n    localStorage.setItem(\"expireTime\", new Date().getTime() / 1000 + res.expires_in);\n  }\n};\n\ncheckToken();\n\nReactDOM.render(\n  <HashRouter>\n    <Switch>\n      <App />\n    </Switch>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}